<html>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
    <head>
        <title>VisualVM 入門</title>
    </head>
    <body>
        <h1>VisualVM 入門</h1>
        <hr>
        <p>VisualVM は、Java 仮想マシン (JVM) で実行中の Java アプリケーションに関する詳細情報を提供します。VisualVM のグラフィカルユーザーインタフェースを使用すると、複数の Java アプリケーションに関する情報をすばやく簡単に表示できます。</p>

        <p>この入門ガイドは、VisualVM をすばやく設定して実行するための支援を行います。このガイドでは、VisualVM をインストールする方法と、VisualVM のアップデートセンターからプラグインをインストールして、ツールに機能を追加する方法を説明します。また、VisualVM の起動方法と、ローカルおよびリモートの JVM で実行中のアプリケーションに関して取得できるいくつかの情報の表示方法を示します。</p>

        <br>

        <h3>実行中の VisualVM</h3>
        <p>java.sun.com で紹介された短いスクリーンキャストで、VisualVM の機能を参照してください。</p>
        <p><embed src="http://blip.tv/play/AeGPcZKdZQ" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="400" height="330"></embed></p>

        <br>

        <h3>VisualVM のインストール</h3>
        <ol>
            <li><a href="https://visualvm.java.net/">VisualVM のプロジェクトページ</a>から VisualVM のインストーラをダウンロードします。</li>
            <li>VisualVM インストーラをローカルシステムに抽出します。</li>
            <li>VisualVM のインストールディレクトリの <tt>bin</tt> ディレクトリに移動し、アプリケーションを起動します。</li>
        </ol>

        <h3>「アプリケーション」ウィンドウの使用</h3>
        <p>アプリケーションを起動すると、VisualVM のメインウィンドウが開きます。デフォルトで、メインウィンドウの左パネルに、「アプリケーション」ウィンドウが表示されます。「アプリケーション」ウィンドウでは、ローカルおよびリモートの JVM で実行中の Java アプリケーションをすばやく確認できます。</p>
        <img src="images/getstarted/vvm-anagram-applications.png" style="border:1px solid;" alt="「アプリケーション」ウィンドウのスクリーンショット"
             title="「アプリケーション」ウィンドウのスクリーンショット">
        <p>「アプリケーション」ウィンドウは、特定のアプリケーションの詳細を表示するための、主な入場点です。アプリケーションのノードを右クリックすると、ポップアップメニューが開きます。ここで、主アプリケーションのタブを開くか、スレッドダンプまたはヒープダンプを取得するかを選択できます。</p>

        <p>「アプリケーション」ウィンドウを使用して、アプリケーションに関するデータを表示および保存する方法の詳細については、次のページを参照してください。</p>
        <ul>
            <li><a href="../applications_window.html">「アプリケーション」ウィンドウの使用</a></li>
        </ul>

        <h3>ヒープダンプの参照</h3>
        <p>VisualVM には、ヒープダンプを簡単に参照できる表示機能があります。既存のヒープダンプを読み込んだり、ローカルで実行中のアプリケーションのヒープのスナップショットを作成したりできます。</p>

        <p>ローカルアプリケーションのヒープダンプを取得するには、次のいずれかを実行します。</p>
        <ul>
            <li>「アプリケーション」ウィンドウで、アプリケーションのノードを右クリックし、「ヒープダンプ」を選択する。</li>
            <li>「アプリケーション」ウィンドウで、アプリケーションのノードをダブルクリックし、アプリケーションのタブを開いて「監視」タブにある「ヒープダンプ」をクリックする。</li>
        </ul>
        <p>保存したヒープダンプを開くには、メインメニューから「ファイル」&gt;「読み込み」を選択し、保存したヒープダンプを探します。</p>

        <p>開いたヒープダンプを参照するには、次の手順に従います。</p>
        <ol>
            <li>「ヒープダンプ」ツールバーの「クラス」をクリックし、ライブクラスと対応するインスタンスのリストを表示します。</li>
            <li>クラス名をダブルクリックしてインスタンスビューを表示し、インスタンスのリストを表示します。</li>
            <li>リストからインスタンスを選択して、そのインスタンスへの参照を表示します。</li>
        </ol>
        <img src="images/getstarted/vvm-anagram-heapdump.png" style="border:1px solid;" alt="ヒープダンプの「インスタンス」タブのスクリーンショット"
             title="ヒープダンプの「インスタンス」タブのスクリーンショット">

        <p>ヒープダンプを取得すると、VisualVM は新しいタブでヒープダンプを開き、「アプリケーション」ウィンドウのアプリケーションのノードの下にヒープダンプ用のノードを作成します。生成したヒープダンプを保存するには、ヒープダンプのノードを右クリックし、「別名保存」を選択します。生成したヒープダンプを明示的に保存しない場合、アプリケーションが閉じるときに、ダンプは削除されます。</p>

        <p>詳細については、次のドキュメントを参照してください。</p>
        <ul>
            <li><a href="../heapdump.html">ヒープダンプの参照</a></li>
        </ul>

        <h3>アプリケーションのプロファイル</h3>
        <p>VisualVM には、ローカルの JVM で実行中のアプリケーションをプロファイルできるプロファイラが含まれています。アプリケーションのタブの「プロファイラ」タブで、プロファイルの制御にアクセスします。プロファイラでは、ローカルアプリケーションのメモリー使用量と CPU パフォーマンスを解析できます。<br/>
        <b>注:</b> JDK 6 で実行中のアプリケーションをプロファイルするには、アプリケーションのクラス共有を無効にする必要があります。そうしないと、アプリケーションがクラッシュする可能性があります。クラス共有を無効にするには、<tt>-Xshare:off</tt> 引数を付けてアプリケーションを起動します。</p>

        <ol>
            <li>ローカル Java アプリケーションを起動します (<tt>-Xshare:off</tt> 引数を付けてアプリケーションを起動)。</li>
            <li>「アプリケーション」ウィンドウの「ローカル」ノードの下で、アプリケーションのノードを右クリックして「開く」を選択し、アプリケーションのタブを開きます。</li>
            <li>アプリケーションのタブで「プロファイラ」タブをクリックします。</li>
            <li>「プロファイラ」タブで「メモリー」または「CPU」をクリックします。
                <p>プロファイルタスクを選択すると、VisualVM は「プロファイラ」タブにプロファイルデータを表示します。</p>
            </li>
        </ol>
        <img src="images/getstarted/vvm-anagram-profiler.png" style="border:1px solid;" alt="プロファイル結果がある「プロファイラ」タブのスクリーンショット"
             title="メモリーの割り当て解析時のプロファイル結果を示すスクリーンショット">


        <p>VisualVM を使用したプロファイルの詳細については、次のドキュメントを参照してください。</p>
        <ul>
            <li><a href="../profiler.html">アプリケーションのプロファイル</a></li>
        </ul>

        <h3>リモートホストへの接続</h3>
        <p>VisualVM では、リモートホストで実行中のアプリケーションを簡単に監視でき、またリモートシステムに関する一般的なデータを表示できます。リモートホストのアプリケーションに関する情報を表示するには、まずリモートホストに接続します。「アプリケーション」ウィンドウの「リモート」ノードの下に、接続しているリモートホストが一覧表示されます。リモートホストのノードを展開し、リモートホストで実行中のアプリケーションを表示します。</p>
        <p>リモートアプリケーションからデータを取得するには、リモートの JVM で <tt>jstatd</tt> ユーティリティーが実行されている必要があります。<tt>jstatd</tt> を起動する方法については、「<a href="http://java.sun.com/javase/6/docs/technotes/tools/share/jstatd.html">jstatd - 仮想マシン jstat デーモン</a>」 を参照してください。リモートホストで実行中のアプリケーションはプロファイルできません。</p>
        <ol>
            <li>「アプリケーション」ウィンドウで「リモート」を右クリックし、「リモートホストを追加」を選択します。</li>
            <li>「リモートホストの追加」ダイアログで、リモートマシンのホスト名または IP アドレスを入力します。</li>
            <li>(省略可能) リモートホストの表示名を入力します。この名前は、「アプリケーション」ウィンドウに表示されます。表示名を入力しない場合、「アプリケーション」ウィンドウでリモートホストを識別するために、ホスト名が使用されます。</li>
            <li>「了解」をクリックします。</li>
        </ol>
        <p>「了解」をクリックすると、「リモート」ノードの下にリモートホストのノードが表示されます。リモートホストのノードを展開し、リモートホストで実行中の Java アプリケーションを表示します。</p>
        <p>リモートアプリケーションの名前をダブルクリックすると、VisualVM でそのアプリケーションのタブを開くことができます。</p>
        <img src="images/getstarted/vvm-applications-remote.png" style="border:1px solid;" alt="リモートホストがある「アプリケーション」ウィンドウのスクリーンショット"
             title="リモートホストがある「アプリケーション」ウィンドウのスクリーンショット">

        <p>詳細については、次のドキュメントを参照してください。</p>
        <ul>
            <li><a href="../applications_remote.html">リモートアプリケーションの操作</a></li>
        </ul>

        <h3>VisualVM プラグインのインストール</h3>
        <p>VisualVM アップデートセンターから入手できるプラグインをインストールして、VisualVM に機能を追加できます。たとえば、VisualVM-MBeans プラグインをインストールすると、アプリケーションのタブに「MBeans」タブが追加されます。これを使用すると、VisualVM 内部から <a href="http://java.sun.com/javase/6/docs/technotes/guides/management/jconsole.html#gdeap">MBeans を監視および管理</a>できます。</p>
        <p><b>VisualVM プラグインをインストールするには、次の手順に従います。</b></p>
        <ol>
            <li>メインメニューから「ツール」&gt;「プラグイン」を選択します。</li>
            <li>「Available Plugins」タブで、プラグインの「Install」チェックボックスを選択します。「インストール」をクリックします。</li>
            <li>手順を続行してプラグインのインストーラを完了します。<br/>
        </ol>
        <img src="images/getstarted/vvm-plugins-window.png" alt="「プラグイン」ウィンドウのスクリーンショット"
             title="「プラグイン」ウィンドウのスクリーンショット">
        <p class="small">VisualVM-MBeans プラグインが選択されているプラグインマネージャーのスクリーンショットです。</p>

        <h2>その他の VisualVM ドキュメント</h2>
        <p>このドキュメントでは、VisualVM の一部の機能を紹介しています。VisualVM は、直感的なビジュアルインタフェースとして設計されており、ローカルおよびリモートの JVM で実行中の Java アプリケーションに関する情報を簡単に調査できます。VisualVM の機能の操作の詳細については、次のドキュメントを参照してください。</p>
        <ul>
            <li><a href="https://visualvm.java.net/docindex.html">VisualVM のドキュメントおよびリソース</a></li>
        </ul>
    </body>
</html>
