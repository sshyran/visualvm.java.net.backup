<script>
    
    // Sets "long-life" cookie (expires December 31th, 2020)
    function setCookie(name, value) {
        var cookie_string = name + "=" + escape(value);
        cookie_string += "; expires=" + new Date(2020, 12, 31).toGMTString();
        cookie_string += "; domain=.visualvm.dev.java.net";
        cookie_string += "; path=/";
        document.cookie = cookie_string;
    }

    // Gets cookie
    function getCookie(name) {
        var results = document.cookie.match ('(^|;) ?' + name + '=([^;]*)(;|$)');
        if (results) return unescape(results[2]);
        else return null;
    }
    
    var DISABLE_VISUALVM_THEME = "disable_visualvm_theme_cookie";
    var disableTheme = getCookie(DISABLE_VISUALVM_THEME);
    
    // Enables custom theme
    function x1() {
        setCookie(DISABLE_VISUALVM_THEME, "false");
        history.go(0);
    }

    // Disables custom theme
    function x2() {
        setCookie(DISABLE_VISUALVM_THEME, "true");
        history.go(0);
    }
    
    document.title = "visualvm: Project Theme Switcher";
    
    var html =  "<h1>Project Theme Switcher</h1> <br><p>Current theme: <b>" + (disableTheme != "true" ? "customized VisualVM theme" : "default dev.java.net theme") + "</b><br>"
    if (disableTheme != "true")
        html += "Switch to <a href=\"javascript:disableTheme();\"><b>default dev.java.net theme</b></a>"
    else
        html += "Switch to <a href=\"javascript:enableTheme();\"><b>customized VisualVM theme</b></a>"
    html += "</p>"
    document.write(html);
    
</script>